{"version":3,"file":"dist/assembler-min.js","sources":["assembler.js"],"names":["root","factory","define","amd","exports","module","require","Assembler","Backbone","_","this","View","extend","template","modelEvents","collectionEvents","lazy","constructor","options","prototype","call","initialize","pick","setTemplate","model","delegateModelEvents","collection","delegateCollectionEvents","_listenToEvents","other","events","each","callback","event","isFunction","Error","listenTo","voidRendered","result","undelegateModelEvents","stopListening","undelegateCollectionEvents","setModel","setCollection","ready","promises","push","fetch","promiseCoupler","$","when","apply","promise","swapModel","view","done","render","swapCollection","toJSON","data","dataDecorator","toHTML","renderElement","renderState","force","_rendered","$el","html","attach","element","attachElement","attachState","length","setElement","remove","parentView","removeView","innerHTML","outerHTML","attrs","keys","id","className","closeTag","openTag","reduce","attr","val","clone","LayoutView","viewEvents","views","_views","_totals","Counter","resetViews","delegateViewEvents","undelegateViewEvents","addView","destination","match","destinationSplitter","method","selector","child","index","increase","_add","_find","_remove","getView","viewsToAdd","filterBy","isString","filter","childToAdd","childToRemove","indexOf","decrease","without","basePromise","layoutPromises","then","swapView","viewToAdd","viewToRemove","renderViews","partial","total","$insert","find","partialMethods","get","delegateEvents","attachViews","inner","empty","append","children","first","outer","replaceWith","prepend","eq","before","prevAll","after","nextAll","counts","key","args","Array","slice","arguments","join","ListView","itemDestination","itemView","resetItemViews","addItemView","removeItemView","sortItemViews","createItemView","getItemView","Model"],"mappings":"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"}