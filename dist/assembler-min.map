{"version":3,"file":"dist/assembler-min.js","sources":["assembler.js"],"names":["root","factory","define","amd","exports","module","require","Assembler","Backbone","_","$","this","View","extend","template","modelEvents","collectionEvents","lazy","constructor","options","prototype","call","initialize","pick","setTemplate","model","delegateModelEvents","collection","delegateCollectionEvents","_listenToEvents","other","events","each","callback","event","isFunction","Error","listenTo","voidRendered","result","undelegateModelEvents","stopListening","undelegateCollectionEvents","setModel","setCollection","ready","promises","push","fetch","promiseCoupler","when","apply","promise","swapModel","view","done","render","swapCollection","toJSON","data","dataDecorator","toHTML","renderElement","renderState","force","_rendered","$el","html","attach","element","attachElement","attachState","length","setElement","remove","parentView","removeView","innerHTML","outerHTML","attrs","keys","id","className","closeTag","openTag","reduce","attr","val","clone","LayoutView","viewEvents","views","_views","_totals","Counter","resetViews","delegateViewEvents","undelegateViewEvents","addView","destination","match","destinationSplitter","method","selector","child","index","increase","_add","_find","_remove","getView","viewsToAdd","filterBy","isString","filter","childToAdd","childToRemove","indexOf","decrease","without","basePromise","layoutPromises","then","swapView","viewToAdd","viewToRemove","renderViews","partial","total","$insert","find","partialMethods","get","delegateEvents","attachViews","inner","empty","append","children","first","outer","replaceWith","prepend","eq","before","prevAll","after","nextAll","counts","key","args","Array","slice","arguments","join","ListView","itemDestination","itemView","resetItemViews","addItemView","removeItemView","sortItemViews","createItemView","getItemView","Model"],"mappings":"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"}