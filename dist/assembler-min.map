{"version":3,"file":"dist/assembler-min.js","sources":["assembler.js"],"names":["root","factory","define","amd","exports","module","require","Assembler","Backbone","_","this","View","extend","template","modelEvents","collectionEvents","lazy","constructor","options","prototype","call","initialize","pick","setTemplate","model","delegateModelEvents","collection","delegateCollectionEvents","_listenToEvents","other","events","each","callback","event","isFunction","Error","listenTo","voidRendered","result","undelegateModelEvents","stopListening","undelegateCollectionEvents","setModel","setCollection","ready","promises","push","fetch","promiseCoupler","$","when","apply","promise","swapModel","view","done","render","swapCollection","toJSON","data","dataDecorator","toHTML","renderElement","renderState","force","_rendered","$el","empty","append","attach","element","attachElement","attachState","length","setElement","remove","parentView","removeView","innerHTML","html","outerHTML","attrs","keys","id","className","closeTag","openTag","reduce","attr","val","clone","LayoutView","viewEvents","views","_byDestination","resetViews","delegateViewEvents","undelegateViewEvents","getView","destination","index","match","destinationSplitter","method","selector","addView","viewToAdd","_prepareForAdd","splice","viewToRemove","byMethod","_prepareForRemove","without","viewsToAdd","findViews","slice","indexOf","basePromise","layoutPromises","then","swapView","that","renderViews","_partial","total","$insert","find","partialMethods","delegateEvents","attachViews","inner","children","first","outer","replaceWith","prepend","eq","before","prevAll","after","nextAll","ListView","itemDestination","itemView","resetItemViews","addItemView","removeItemView","sortItemViews","createItemView","app","at","undefined","getItemView","Model"],"mappings":"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"}