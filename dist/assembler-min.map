{"version":3,"file":"dist/assembler-min.js","sources":["assembler.js"],"names":["root","factory","define","amd","exports","module","require","Assembler","Backbone","_","this","View","extend","template","modelEvents","collectionEvents","lazy","constructor","options","prototype","call","initialize","pick","setTemplate","model","delegateModelEvents","collection","delegateCollectionEvents","_listenToEvents","other","events","each","callback","event","isFunction","Error","listenTo","voidRendered","result","undelegateModelEvents","stopListening","undelegateCollectionEvents","setModel","setCollection","ready","promises","push","fetch","promiseCoupler","$","when","apply","promise","swapModel","view","done","render","swapCollection","toJSON","data","dataDecorator","toHTML","renderElement","renderState","force","_rendered","$el","empty","append","attach","element","attachElement","attachState","length","setElement","remove","parentView","removeView","innerHTML","html","outerHTML","attrs","keys","id","className","closeTag","openTag","reduce","attr","val","clone","LayoutView","viewEvents","views","_byDestination","resetViews","delegateViewEvents","undelegateViewEvents","getView","destination","index","match","destinationSplitter","method","selector","addView","viewToAdd","_prepareForAdd","splice","viewToRemove","keepIterating","byMethod","_prepareForRemove","without","viewsToAdd","findViews","slice","indexOf","basePromise","layoutPromises","then","swapView","that","renderViews","_partial","total","$insert","find","partialMethods","delegateEvents","attachViews","inner","children","first","outer","replaceWith","prepend","eq","before","prevAll","after","nextAll","ListView","itemDestination","itemView","resetItemViews","addItemView","removeItemView","sortItemViews","createItemView","app","at","undefined","getItemView","Model"],"mappings":"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"}